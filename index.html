<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindful Labs (마인드풀랩스) - Coming Soon</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* Apply the Inter and Noto Sans KR fonts */
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #0b0f2a; /* Deep navy background */
            overflow-x: hidden; /* Hide horizontal scrollbars */
            height: 100vh; /* NEW: Fix body height to viewport */
            overflow-y: hidden; /* NEW: Hide vertical scrollbars */
        }
        
        /* Canvas for particle animation */
        #particle-canvas {
            position: fixed; /* Fixed to viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background-color: #0b0f2a; /* Ensure deep navy background for canvas */
        }

        /* Custom gradient for visionary text */
        .text-gradient-vision {
            background-image: linear-gradient(to right, #ffffff, #a7bfff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Ensure content is above the canvas */
        .content-wrapper {
            position: relative;
            z-index: 10;
            height: 100vh; /* CHANGED: Make content wrapper take full viewport height */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 4rem 1.5rem 8rem; /* CHANGED: Adjusted padding for non-scroll view */
            box-sizing: border-box; /* Include padding in height calculation */
        }

        /* Footer styling */
        .main-footer {
            position: absolute; /* Position relative to content-wrapper or body if its height is fixed */
            bottom: 0;
            left: 0;
            width: 100%;
            z-index: 10;
            padding: 1.5rem; /* CHANGED: Adjusted padding */
        }

        /* Keep Korean words from breaking awkwardly */
        .korean-word-break {
            word-break: keep-all;
        }
    </style>
</head>
<body class="text-gray-200 antialiased">

    <!-- Particle Canvas Background -->
    <canvas id="particle-canvas"></canvas>

    <!-- Main Content -->
    <div class="content-wrapper">
        <main class="flex-grow flex flex-col items-center justify-center">
            
            <!-- Logo -->
            <h1 class="font-extrabold text-3xl md:text-4xl text-gradient-vision mb-6">
                Mindful Labs
            </h1>
            
            <!-- Main Teaser Headline -->
            <h2 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-white tracking-tight korean-word-break mt-6">
                AI, 마음을 만나다
            </h2>
            <p class="mt-6 max-w-2xl mx-auto text-lg sm:text-xl text-gray-300 korean-word-break">
                최고의 기술로 빚어내는<br>당신만의 마음챙김 솔루션
            </p>

            <p class="mt-12 text-xl font-semibold text-teal-300 animate-pulse">
                서비스 준비 중입니다.
            </p>

            <!-- Email Subscription Form -->
            <form class="mt-10 w-full max-w-md" id="email-form">
                <p class="text-base text-gray-300 mb-4 korean-word-break">
                    가장 먼저 소식을 받아보시려면 이메일을 등록해주세요.
                </p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <label for="email-address" class="sr-only">이메일 주소</label>
                    <input id="email-address" name="email" type="email" autocomplete="email" required 
                           class="w-full flex-auto px-5 py-3 rounded-lg bg-white/10 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-gray-400" 
                           placeholder="your-email@example.com">
                    <button type="submit" 
                            id="submit-button"
                            class="w-full sm:w-auto bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg shadow-md hover:bg-blue-500 transition-all transform hover:scale-105">
                        등록하기
                    </button>
                </div>
                
                <!-- Form submission message area -->
                <p id="form-message" class="mt-4 text-sm"></p>
            </form>
        </main>
    </div>
    
    <!-- Footer -->
    <footer class="main-footer text-center py-8 px-4">
        <div class="max-w-4xl mx-auto text-xs text-gray-500 korean-word-break">
            <p class="mb-2">
                마인드풀랩스 주식회사 (Mindful Labs Inc.)
            </p>
            <p>
                <span>사업자 등록번호: 786-88-03152</span>
                <span class="mx-2">|</span>
                <span>대표: 강호남</span>
            </p>
            <p>
                주소: 서울특별시 성동구 뚝섬로 13길 38, 4층 (성수동2가, KT&G상상플래닛)
            </p>
        </div>
    </footer>

    <!-- JavaScript for Particle Animation and Scroll Effects -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('particle-canvas');
            const ctx = canvas.getContext('2d');
            let particlesArray = [];
            let mouse = {
                x: null,
                y: null,
                radius: 100 // Mouse interaction radius
            };

            // Set canvas size and update on resize
            function setCanvasSize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            setCanvasSize();
            window.addEventListener('resize', () => {
                setCanvasSize();
                initParticles(); // Re-initialize particles on resize
            });

            // Mouse position tracking
            window.addEventListener('mousemove', (event) => {
                mouse.x = event.x;
                mouse.y = event.y;
            });
            // Reset mouse position when it leaves the window
            window.addEventListener('mouseout', () => {
                mouse.x = null;
                mouse.y = null;
            });

            // Particle class
            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2 + 0.5; // Slightly larger, more varied
                    this.baseSpeedX = (Math.random() * 2) - 1; // CHANGED: Increased speed (was 0.8 / 0.4)
                    this.baseSpeedY = (Math.random() * 2) - 1; // CHANGED: Increased speed (was 0.8 / 0.4)
                    this.speedX = this.baseSpeedX;
                    this.speedY = this.baseSpeedY;
                    this.color = 'rgba(200, 220, 255, 0.8)'; // Bright, cool color
                }
                
                update() {
                    // Wall collision
                    if (this.x > canvas.width || this.x < 0) this.speedX = -this.speedX;
                    if (this.y > canvas.height || this.y < 0) this.speedY = -this.speedY;

                    this.x += this.speedX;
                    this.y += this.speedY;

                    // Mouse interaction
                    if (mouse.x && mouse.y) {
                        let dx = this.x - mouse.x;
                        let dy = this.y - mouse.y;
                        let distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < mouse.radius) {
                            let angle = Math.atan2(dy, dx);
                            let pushFactor = (mouse.radius - distance) / mouse.radius; // Stronger push closer to mouse
                            this.x += Math.cos(angle) * pushFactor * 2; // Push away from mouse
                            this.y += Math.sin(angle) * pushFactor * 2;
                        }
                    }

                    // Reset speed gradually to base speed if not influenced by mouse
                    this.speedX = this.speedX * 0.95 + this.baseSpeedX * 0.05;
                    this.speedY = this.speedY * 0.95 + this.baseSpeedY * 0.05;
                }
                
                draw() {
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // RE-ADDED: Added shadowBlur back for visual aesthetics
                    ctx.shadowColor = 'rgba(173, 216, 230, 0.8)'; // Light blue glow
                    ctx.shadowBlur = 8;
                }
            }

            // Create particle array
            function initParticles() {
                particlesArray = [];
                // OPTIMIZATION: Adjust particle density and set a max cap
                const particleDensity = (canvas.width * canvas.height) / 15000; 
                const particleCount = Math.min(200, particleDensity); // Max 200 particles
                
                for (let i = 0; i < particleCount; i++) {
                    particlesArray.push(new Particle());
                }
            }
            initParticles();

            // Connect particles with lines
            function connectParticles() {
                let opacityValue = 1;
                for (let a = 0; a < particlesArray.length; a++) {
                    for (let b = a + 1; b < particlesArray.length; b++) {
                        let dx = particlesArray[a].x - particlesArray[b].x;
                        let dy = particlesArray[a].y - particlesArray[b].y;
                        let distance = Math.sqrt(dx * dx + dy * dy);
                        
                        // OPTIMIZATION: Slightly reduced connection distance
                        const connectionDistance = Math.min(canvas.width, canvas.height) / 7;
                        
                        if (distance < connectionDistance) {
                            opacityValue = 1 - (distance / connectionDistance);
                            ctx.strokeStyle = `rgba(173, 216, 230, ${opacityValue * 0.1})`; // Lighter lines
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                            ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            // Animation loop
            function animateParticles() {
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear only particles area
                for (let i = 0; i < particlesArray.length; i++) {
                    particlesArray[i].update();
                    particlesArray[i].draw();
                }
                connectParticles();
                requestAnimationFrame(animateParticles);
            }
            animateParticles();

            // --- Google Sheets Form Submission ---

            // 1. Google Apps Script 웹 앱 URL
            const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw_EnCJEZq4xM8jn0NXwg-mwk6KbOwU0s9eJgJK5mAeRxHjPVFwEE2e-79zs4nk4r99sA/exec'; 
            
            const form = document.getElementById('email-form');
            const submitButton = document.getElementById('submit-button');
            const formMessage = document.getElementById('form-message');

            // 2. Apps Script가 응답할 때 호출될 전역 콜백 함수를 정의합니다.
            window.handleResponse = function(data) {
                if (data.result === 'success') {
                    formMessage.textContent = '이메일이 성공적으로 등록되었습니다! 감사합니다.';
                    formMessage.style.color = '#34D399'; // Green
                    form.reset();
                } else {
                    formMessage.textContent = '오류가 발생했습니다: ' (data.message || '알 수 없는 오류');
                    formMessage.style.color = '#F87171'; // Red
                }
                
                // 버튼을 다시 활성화합니다.
                submitButton.disabled = false;
                submitButton.textContent = '등록하기';
                
                // 동적으로 추가된 스크립트 태그를 정리합니다.
                const scriptTag = document.getElementById('jsonp-script');
                if (scriptTag) {
                    document.body.removeChild(scriptTag);
                }
            }

            // 3. 폼 제출 이벤트를 가로챕니다.
            form.addEventListener('submit', function(e) {
                e.preventDefault(); // 기본 폼 제출을 막습니다.
                
                const emailInput = document.getElementById('email-address');
                const email = emailInput.value;
                
                if (!email) {
                    formMessage.textContent = '이메일 주소를 입력해주세요.';
                    formMessage.style.color = '#FBBF24'; // Yellow
                    return;
                }

                // 유효성 검사 (간단)
                if (!email.includes('@') || !email.includes('.')) {
                    formMessage.textContent = '올바른 이메일 형식이 아닙니다.';
                    formMessage.style.color = '#FBBF24'; // Yellow
                    return;
                }
                
                // 로딩 상태를 표시합니다.
                submitButton.disabled = true;
                submitButton.textContent = '등록 중...';
                formMessage.textContent = ''; // 이전 메시지 지우기

                // 4. JSONP를 사용하여 Google Apps Script로 데이터를 전송합니다.
                // (CORS 오류를 우회하기 위해 스크립트 태그를 동적으로 생성)
                const script = document.createElement('script');
                script.id = 'jsonp-script';
                script.src = SCRIPT_URL + '?email=' + encodeURIComponent(email) + '&callback=handleResponse';
                
                // 스크립트 로드 오류 처리 (예: 잘못된 URL)
                script.onerror = function() {
                    formMessage.textContent = '등록 서버에 연결할 수 없습니다. URL을 확인해주세요.';
                    formMessage.style.color = '#F87171';
                    submitButton.disabled = false;
                    submitButton.textContent = '등록하기';
                };
                
                // 스크립트 태그를 body에 추가하여 요청을 보냅니다.
                document.body.appendChild(script);
            });
        });
    </script>

</body>
</html>